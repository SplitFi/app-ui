parameters:
  run-shared:
    type: boolean
    default: false
  run-landing:
    type: boolean
    default: false
  run-app:
    type: boolean
    default: false
  run-docs:
    type: boolean
    default: false
docker:
  - image: cimg/base:stable
steps:
  - checkout
  - run:
      command: |
        PROJECT_OPTION=""
        for i in <<parameters.run-app>>,APP <<parameters.run-landing>>,LANDING <<parameters.run-docs>>,DOCS ; 
        do 
          if [ ${i%,*} = true ] ; then
            PROJECT_OPTION="VERCEL_PROJECT_ID_${i#*,}"
          fi
        done
        echo 'export VERCEL_PROJECT_ID="${PROJECT_OPTION}"' >> "$BASH_ENV"
